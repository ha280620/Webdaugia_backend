
@model PagedList.IPagedList<Webdaugia.Models.User>
@using PagedList.Mvc
@{
    ViewBag.Title = "ListAccount";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}
<div class="row">
    <div class="col-12">
        <!-- Post TABLE -->
        <div class="box">
            <div class="box-header"><h3>Danh sách tài khoản khách hàng</h3></div>
            <div class="box-body">
                <div class="row">
                    <div class="col-4 col-sm-12" style="margin-bottom:0">
                        @using (Html.BeginForm("ListAccount", "AdLot", FormMethod.Get, new { @class = "navbar-search" }))
                        {
                            <input type="text"
                                   name="searchString"
                                   class="navbar-search-input"
                                   placeholder="Tìm kiếm sản phẩm..."
                                   value="@ViewBag.searchString" />
                            <button type="submit"><i class="fas fa-search"></i></button>}
                    </div>
                </div>
                <div style="overflow:scroll">
                    <table>
                        <thead>
                            <tr>
                                <th align="center" width="50px">STT</th>
                                <th align="center">Họ Tên</th>
                                <th align="center" width="50px">Giới tính</th>
                                <th align="center">Email</th>
                                <th align="center">Địa chỉ</th>
                                <th align="center">Số điện thoại</th>
                                <th align="center">Trạng thái</th>
                                <th align="center">Khóa tài khoản</th>
                            </tr>
                        </thead>
                        <tbody>

                            @{ int count = 1;}
                            @foreach (var item in Model)
                            {
                                if (item.RoleID == 3)
                                {
                                    <tr>
                                        <td align="center">@count</td>
                                        @{count++;}

                                        <td align="center" width="200px">
                                            @item.FullName
                                        </td>
                                        @if (item.Gender == null)
                                        {
                                            <td align="center">Chưa cập nhật</td>
                                        }
                                        @if (item.Gender == true)
                                        {
                                            <td align="center">Nam</td>
                                        }
                                        @if (item.Gender == false)
                                        {
                                            <td align="center">Nữ</td>
                                        }
                                        <td align="center">@item.Email</td>
                                        @if (item.Address == null)
                                        {
                                            <td align="center" style="padding-right:50px">Chưa cập nhật</td>
                                        }
                                        else
                                        {
                                            <td align="center" style="padding-right:50px">@item.Address</td>
                                        }
                                        @if (item.Phone == null)
                                        {
                                            <td align="center">Chưa cập nhật</td>
                                        }
                                        else
                                        {
                                            <td align="center">@item.Phone</td>
                                        }
                                        @if (item.Status == 1)
                                        {


                                            <td align="center">
                                                <div class="payment-status payment-paid">
                                                    <div class="dot"></div>
                                                    <span>Đã kích hoạt</span>
                                                </div>
                                            </td>
                                        }
                                        else if (item.Status == 2)
                                        {
                                            <td align="center">
                                                <div class="payment-status payment-pending">
                                                    <div class="dot"></div>
                                                    <span>Đã khoá</span>
                                                </div>
                                            </td>
                                        }
                                        @if (item.Status == 2)
                                        {
                                            <td align="center">
                                                <a href="/admin/account/LockOrUnlockAccount/@item.ID" onclick="return confirm('Bạn có muốn mở khóa tài khoản?\nHọ tên: @item.FullName\nGmail: @item.Email')">
                                                    <i class="fas fa-lock" style="color:red"></i>
                                                </a>
                                            </td>
                                        }
                                        else if (item.Status == 1)
                                        {
                                            <td align="center">
                                                <a href="/admin/account/LockOrUnlockAccount/@item.ID" onclick="return confirm('Bạn có muốn khóa tài khoản?\nHọ tên: @item.FullName\nGmail: @item.Email')">
                                                    <i class="fas fa-unlock" style="color:#04D182"></i>
                                                </a>
                                            </td>
                                        }


                                    </tr>
                                }

                            }
                        </tbody>
                    </table>
                </div>

                @Html.PagedListPager(Model, page => Url.Action("ListAccount", new { page, @searchString = ViewBag.searchString }))

            </div>
        </div>
        <!-- END TABLE -->
    </div>
</div>
@* ========================================================================================= *@
<div class="row">
    <div class="col-12">
        <!-- TABLE -->
        <div class="box">
            <div class="box-header"><h3>Danh sách tài khoản nhân viên</h3></div>
            <div class="box-body overflow-scroll">
                <table>
                    <thead>
                        <tr>
                            <th align="center">STT</th>
                            <th align="center">Họ Tên</th>
                            <th align="center">Chức vụ</th>
                            <th align="center">Giới tính</th>
                            <th align="center">Email</th>
                            <th align="center">Ngày sinh</th>
                            <th align="center">Địa chỉ</th>
                        </tr>
                    </thead>
                    <tbody>
                        @{int count2 = 1;}
                        @foreach (var item in Model)
                        {
                            if (item.RoleID != 3)
                            {
                                <tr>
                                    <td align="center">@count2</td>
                                    @{count2++;}
                                    <td align="center">@item.FullName</td>

                                    @if (@item.RoleID == 1)
                                    {


                                        <td align="center">Quản lý</td>
                                    }
                                    else
                                    {
                                        <td align="center">Đấu giá viên</td>
                                    }


                                    @if (item.Gender == null)
                                    {
                                        <td align="center">Chưa cập nhật</td>
                                    }
                                    @if (item.Gender == true)
                                    {
                                        <td align="center">Nam</td>
                                    }
                                    @if (item.Gender == false)
                                    {
                                        <td align="center">Nữ</td>
                                    }
                                    <td align="center">@item.Email</td>
                                    @if (item.Birthday == null)
                                    {
                                        <td align="center">Chưa cập nhật</td>
                                    }
                                    else
                                    {
                                        <td align="center">@item.Birthday.Value.ToString("dd-MM-yyyy")</td>
                                    }


                                    @if (item.Address == null)
                                    {
                                        <td align="center">Chưa cập nhật</td>
                                    }
                                    else
                                    {
                                        <td align="center">@item.Address</td>
                                    }
                                </tr>
                            }

                        }
                    </tbody>
                </table>
            </div>
        </div>
        <!-- END ORDERS TABLE -->
    </div>
</div>




