@model Webdaugia.Models.Lot

@{
    ViewBag.Title = "AddProduct";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<h2>Thêm Sản Phẩm Mới</h2>
<div class="box">
    @using (Html.BeginForm("CreateProduct", "AdProduct", FormMethod.Post, new { @area = "Admin", enctype = "multipart/form-data" }))
    {
        @Html.AntiForgeryToken()
        <div class="col-6">
            <a href="/admin/adproduct/listproduct" class="btn btn-info" style="display:inline-block">
                Danh Sách Sản phẩm
            </a>
        </div>
        <div class="col-6">
            <div class="text-success" style="font-size:large">@ViewBag.success</div>
        </div>
        <div class="col-6">
            <label>Tên Sản phẩm</label>
            <div class="form_control">
                <input required
                       name="Name"
                       type="text" />
                @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="col-6">
            <label>Giá khởi điểm</label>
            <div class="form_control">
                <input required
                       name="StartingPrice"
                       type="number" />
                @Html.ValidationMessageFor(model => model.StartingPrice, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="col-6">
            <label>Bước giá</label>
            <div class="form_control">
                <input required
                       name="MiniumBid"
                       type="number" />
                @Html.ValidationMessageFor(model => model.MiniumBid, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="col-6">
            <label>Giá đặt cọc</label>
            <div class="form_control">
                <input required
                       name="AdvanceDesposit"
                       type="number" />
                @Html.ValidationMessageFor(model => model.AdvanceDesposit, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="col-6">
            <label>Giá đặt cọc</label>
            <div class="form_control">
                <input required
                       name="ParticipationFee"
                       type="number" />
                @Html.ValidationMessageFor(model => model.ParticipationFee, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="col-6">
            <label>Đấu Giá Viên</label>
            <div class="form_control">
                <input required
                       name="HostName"
                       type="text" />
                @Html.ValidationMessageFor(model => model.HostName, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="col-6">
            <label>Chủ tài sản</label>
            <div class="form_control">
                <input required
                       name="HostLot"
                       type="text" />
                @Html.ValidationMessageFor(model => model.HostLot, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="col-6">
            <label>Địa điểm</label>
            <div class="form_control">
                <input required
                       name="Location"
                       type="text" />
                @Html.ValidationMessageFor(model => model.Location, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="col-6">
            <label>Thời gian xem sản phẩm đấu giá</label>
            <div class="form_control">
                <input required
                       name="ViewInTime"
                       type="datetime-local" />
                @Html.ValidationMessageFor(model => model.ViewInTime, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="col-6">
            <label>Ngày bắt đầu phiên</label>
            <div class="form_control">
                <input required
                       name="TimeForBidStart"

                       type="datetime-local" />
                @Html.ValidationMessageFor(model => model.TimeForBidStart, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="col-6">
            <label>Ngày kết thúc phiên</label>
            <div class="form_control">
                <input required
                       name="TimeForBidEnd"
                       type="datetime-local" />
                @Html.ValidationMessageFor(model => model.TimeForBidEnd, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="col-6">
            <label>Ngày bắt đầu dăng ký phiên</label>
            <div class="form_control">
                <input required
                       name="TimeForRegisterStart"
                       type="datetime-local" />
                @Html.ValidationMessageFor(model => model.TimeForRegisterStart, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="col-6">
            <label>Ngày kết thúc đăng ký phiên</label>
            <div class="form_control">
                <input required
                       name="TimeForRegisterEnd"
                       type="datetime" />
                @Html.ValidationMessageFor(model => model.TimeForRegisterEnd, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="col-6">
            <label>Hình ảnh đại diện Phiên</label>
            <div class="form_control">
                <input required type="file" name="file1" />
            </div>
        </div>
        
        <div class="col-6 col-12">
            <a href="">
                <button class="btn btn-success" type="submit">Thêm mới phiên đấu giá</button>
            </a>
        </div>
    }
</div>
<script>tinymce.init({ selector: 'textarea' });</script>
<script>
    $(document).ready(function () {
        $("#Cate0").change(function () {
            $.get("/admin/adproduct/GetCate1", { Id: $("#Cate0").val() }, function (data) {
                $("#Cate1").empty();
                $.each(data, function (index, row) {
                    $("#Cate1").append("<option value='" + row.Id +"'>" + row.Name + "</option>")
                });
            });
        })
        $("#Cate1").change(function () {
            $.get("/admin/adproduct/GetCate1", { Id: $("#Cate1").val() }, function (data) {
                $("#Cate2").empty();
                $.each(data, function (index, row) {
                    $("#Cate2").append("<option value='" + row.Id + "'>" + row.Name + "</option>")
                });
            });
        })
    });
</script>

